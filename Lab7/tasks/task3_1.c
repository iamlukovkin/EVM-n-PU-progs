#include <avr/io.h>

int main(void) {
    // Загрузка константы для работы компаратора
    ACSR = 0x40;

    // Настройка PORTB5 на вывод (режим "вывод") для светодиода
    DDRB |= (1 << DDB5);

    while (1) {
        // Загрузка значения ACSR в регистр r16
        uint8_t acsrValue = ACSR;

        // Сохранение значения 5-го бита (ACO) из ACSR в флаг T
        if (!(acsrValue & (1 << ACO))) {
            // Если флаг T (ACO) сброшен, то значение выше порога, включаем светодиод
            PORTB |= (1 << PB5);
        } else {
            // Иначе, если флаг T (ACO) установлен, выключаем светодиод
            PORTB &= ~(1 << PB5);
        }
    }

    return 0;
}
